<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:r="http://richfaces.org">

<ui:composition template="/templates/main.xhtml">
	<ui:define name="content">
		<r:notifyMessages stayTime="2000" />
		<h:form id="mainForm" prependId="false">
			<r:outputPanel ajaxRendered="true">
				<r:region>

					<r:panel styleClass="centered" style="width: 300px;">
						<f:facet name="header">#{systemUser.name} (#{systemUser.username}).</f:facet>
						<h:panelGrid columns="2">
							<h:outputLabel>Current password:</h:outputLabel>
							<h:inputSecret id="pass" value="#{credentials.password}" required="true" size="25" />
							<h:outputLabel>New password (1):</h:outputLabel>
							<h:inputSecret id="pass1" value="#{credentials.newPass1}" required="true" size="25" />
							<h:outputLabel>New password (2):</h:outputLabel>
							<h:inputSecret id="pass2" value="#{credentials.newPass2}" required="true" size="25" />
						</h:panelGrid>
						<div style="text-align: center;">
							<h:commandButton value="Save" action="#{appSession.changePassword}" />
							<h:commandButton value="Cancel" action="/index.html?faces-redirect=true" immediate="true" />
						</div>
					</r:panel>

				</r:region>
			</r:outputPanel>
		</h:form>
	</ui:define>
</ui:composition>
</html>