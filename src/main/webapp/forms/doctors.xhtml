<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:r="http://richfaces.org">

<ui:composition template="/templates/main.xhtml">
	<ui:define name="content">

		<r:notifyMessages stayTime="2000" />
		<h:form id="mainForm" prependId="false">
			<r:outputPanel ajaxRendered="true">
				<r:region>

					<h3 class="tcentered">Doctores</h3>

					<r:tabPanel styleClass="centered" style="width: 800px;">
						<r:repeat value="#{doctorStartLetters}" var="letter">
							<r:tab header="#{letter.toUpperCase()}" switchType="ajax">
								<r:dataTable value="#{viewDoctors.doctorsForLetter(letter)}" var="d" rowKeyVar="rowNum" styleClass="centered"
									style="width: 780px;">
									<r:column styleClass="tcentered">
										<f:facet name="header">#</f:facet>
										<h:outputText value="#{rowNum+1}." />
									</r:column>
									<r:column styleClass="tcentered">
										<f:facet name="header">Nombre</f:facet>
										<h:outputText value="#{d.fullName}" />
									</r:column>
									<r:column styleClass="tcentered">
										<f:facet name="header">Especialidad</f:facet>
										<h:outputText value="#{d.specialty}" />
									</r:column>
									<r:column styleClass="tcentered">
										<f:facet name="header">.</f:facet>
										<r:commandLink>
											<h:graphicImage library="images/icons" name="edit.png" alt="Edit" />
										</r:commandLink>
										&nbsp;
										<r:commandLink>
											<h:graphicImage library="images/icons" name="view.png" alt="Edit" />
										</r:commandLink>
										&nbsp;
										<r:commandLink>
											<h:graphicImage library="images/icons" name="remove.png" alt="Edit" />
										</r:commandLink>
										&nbsp;
										<r:commandLink>
											<h:graphicImage library="images/icons" name="lock.png" alt="Edit" />
										</r:commandLink>
									</r:column>
								</r:dataTable>
							</r:tab>
						</r:repeat>
					</r:tabPanel>

				</r:region>
			</r:outputPanel>
		</h:form>

		<r:popupPanel id="popup" autosized="true" modal="true">
			<h:form id="uForm">
				<r:outputPanel ajaxRendered="true">
					<r:region>

						<fieldset class="centered">
							<legend>Doctor form:</legend>
							<h:panelGrid columns="2">
								<h:outputLabel value="Nombres:" />
								<h:inputText value="#{managedDoctor.fname}" />
								<h:outputLabel value="Apellidos:" />
								<h:inputText value="#{managedDoctor.lname}" />
								<h:outputLabel value="Especialidad:" />
								<h:inputText value="#{managedDoctor.specialty}" />
							</h:panelGrid>
							<hr />
							<div class="tcentered">
								<r:commandButton value="Save">
									<r:ajax event="click" />
								</r:commandButton>
								<r:commandButton value="Cancel" immediate="true">
									<r:ajax event="click" />
								</r:commandButton>
							</div>
						</fieldset>

					</r:region>
				</r:outputPanel>
			</h:form>
		</r:popupPanel>

	</ui:define>
</ui:composition>
</html>
